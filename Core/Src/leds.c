/*
 * leds.c
 *
 *  Created on: Nov 13, 2025
 *      Author: BOLO
 */


#include "leds.h"
#include <inttypes.h>

//=====================================================================================================================

static uint32_t* LED_BB = (uint32_t*) ((0x00020C14 << 5) + 0x42000000); // bitband access into LED's

//=====================================================================================================================

//=====================================================================================================================
extern void led_toggle(uint32_t LED)
{
    LED_BB[LED] ^= 1;
}
//---
extern void led_on(uint32_t LED)
{
    LED_BB[LED] = 1;
}
//---
extern void led_off(uint32_t LED)
{
    LED_BB[LED] = 0;
}
//---
//=====================================================================================================================
extern void led_init(void)
{
    uint32_t *pRccAhb1enr   = (uint32_t *)0x40023830;
    uint32_t *pGpiodModeReg = (uint32_t *)0x40020C00;


    pRccAhb1enr[0] |= (1 << 3);
    // configure LEDS
    pGpiodModeReg[0] |= (1 << (2 * LED_GREEN)) | (1 << (2 * LED_ORANGE)) | (1 << (2 * LED_RED)) | (1 << (2 * LED_BLUE));
}
//=====================================================================================================================
